//This is for the first assignment for CSC422

//by Jonas Frahm

import java.util.Scanner;
import java.util.ArrayList;

public class FrahmCSC422Ses1 {

    public static ArrayList<Pet> pets = new ArrayList<>();
    public static int petCount = 100;
    
    
    public static void main(String[] args) {
        //Must make my own Pet menu thing (like I've done before)
        
        Scanner scan = new Scanner(System.in);
        int decision;
        
        System.out.println("Pet Database Program.");
        
        
        do {
            decision = getUserChoice();
            
            String petName;
            int age;
            
            switch(decision) {
                case 1:
                    //view pets class here
                    viewPets();
            
                case 2:
                    //add pets
                    addPets();
            
                case 3:
                    //update pet
                    updatePet();
            
                case 4:
                    //delete pet
                    updatePet();
            
                case 5:
                    //search pet name
                    searchPetByName();
            
                case 6:
                    //search pet age
                    searchPetByAge();
            
                case 7:
                    //exit program
                    System.out.println("Goodbye!");
                    break;
            
                default:
                    System.out.println("Invalid input.");
                
            }
                
        } while (decision != 7);
        scan.close();
        
    }

    public static int getUserChoice() {
        System.out.println("What would you like to do?");
        
        System.out.println("1) View all pets");
        System.out.println("2) Add more pets");
        System.out.println("3) Update an existing pet");
        System.out.println("4) Remove an existing pet");
        System.out.println("5) Search pets by name");
        System.out.println("6) Search pets by age");
        System.out.println("7) Exit program");
        
        System.out.println();
        System.out.print("Your choice: ");
        int choice;
        
        Scanner s = new Scanner(System.in);
        choice = s.nextInt();
        return choice;
        
    }
    
    public static void viewPets() {
        TableHeader();
        
        for (int i = 0; i < pets.size(); i++) {
            Table(i, pets.get(i).getName(), pets.get(i).getAge());
        }
        
    }
    
    public static void addPets() {
        while (true) {
            Scanner scan = new Scanner(System.in);
            String name;
            int age;
            
            System.out.print("add pet (name, age) "); //input
            name = scan.nextLine();
            
            if (name.equalsIgnoreCase("done")) {
                break;
            }
            
            age = scan.nextInt();
            pets.add(new Pet(name, age));
            petCount++;
        }
        System.out.println(petCount + " pets added.");
        
    }
    
    public static void updatePet() {
        String name;
        int age;
        
        Scanner scan = new Scanner(System.in);
        
        System.out.print("Enter the pet ID you can to update: ");
        int id = scan.nextInt();
        
        if (id < 0 || id >= pets.size()) {
            System.out.println("Invalid ID.");
        }
        
        System.out.print("Enter new name and new age: ");
        name = scan.nextLine();
        age = scan.nextInt();
        
        Pet pet = pets.get(id);
        
        pet.setName(name);
        pet.setAge(age);
        
        
        System.out.print("This pet is now " + name + " " + age);
        
    }
    
    public static void searchPetByName() {
        String name;
        boolean found;
        
        Scanner s = new Scanner(System.in);
        
        System.out.print("Please enter a name to search: ");
        name = s.nextLine();
        found = false;
        
        TableHeader();
        
        for (int i = 0; i < pets.size(); i++) {
            if (pets.get(i).getName().equalsIgnoreCase(name)) {
                printTableRow(i, pets.get(i).getName(), pets.get(i).getAge());
                found = true;
            }
        }
        
        if (!found) {
            System.out.println("No pets with that name found.");
        }
        
        TableFooter(pets.size());
        
        
    }
    
    public static void searchPetByAge() {
        int age;
        boolean found;
        
        Scanner scan = new Scanner(System.in);
        
        System.out.print("Please enter an age to search: ");
        age = scan.nextInt();
        found = false;
        
        TableHeader();
        
        for (int i = 0; i < pets.size(); i++) {
            if (pets.get(i).getAge() == age) {
                Table(i, pets.get(i).getName(), pets.get(i).getAge());
                found = true;
            }
        }
        if (!found) {
            System.out.println("No pets found with that age.");
        }
        
        TableFooter(pets.size());
        
    }

    
    
    //might move to other file later
    public static void ListHeader() {
        System.out.println("+----------------------+");
        System.out.println("| ID | NAME      | AGE |");
        System.out.println("+----------------------+");
    }

    public static void List(int id) {
        System.out.println("| " + id + " | " + name + "     | " + age + " |");
        //add list of pets with ID, name, and age
    }

    public static void ListFooter(int rows) {
        System.out.println("+----------------------+");
        System.out.println(rows + " rows in set.");
    }

}
